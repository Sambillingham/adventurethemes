!function(a,b,c,d){"use strict";function i(a){var c,d,e,f,g,h,i,b={};for(g=a.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),i=0,h=g.length;h>i&&(d=g[i],-1===d.search(/^(http|https|ftp):\/\//)&&-1!==d.search(":"));i++)c=d.indexOf(":"),e=d.substring(0,c),f=d.substring(c+1),f||(f=void 0),"string"==typeof f&&(f="true"===f||("false"===f?!1:f)),"string"==typeof f&&(f=isNaN(f)?f:+f),b[e]=f;return null==e&&null==f?a:b}function j(a){a=""+a;var e,f,g,b=a.split(/\s+/),c="50%",d="50%";for(g=0,e=b.length;e>g;g++)f=b[g],"left"===f?c="0%":"right"===f?c="100%":"top"===f?d="0%":"bottom"===f?d="100%":"center"===f?0===g?c="50%":d="50%":0===g?c=f:d=f;return{x:c,y:d}}function k(b,c){var d=function(){c(this.src)};a("<img src='"+b+".jpg'>").load(d)}function l(b,c,d){if(this.$element=a(b),"string"==typeof c&&(c=i(c)),d?"string"==typeof d&&(d=i(d)):d={},"string"==typeof c)c=c.replace(/\.\w*$/,"");else if("object"==typeof c)for(var e in c)c.hasOwnProperty(e)&&(c[e]=c[e].replace(/\.\w*$/,""));this.settings=a.extend({},f,d),this.path=c,this.init()}var e="vide",f={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0},g=/iPad|iPhone|iPod/i.test(d.userAgent),h=/Android/i.test(d.userAgent);l.prototype.init=function(){var d,f,b=this,c=j(b.settings.position);b.$wrapper=a("<div>").css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":c.x+" "+c.y}),f=b.path,"object"==typeof b.path&&(b.path.poster?f=b.path.poster:b.path.mp4?f=b.path.mp4:b.path.webm?f=b.path.webm:b.path.ogv&&(f=b.path.ogv)),"detect"===b.settings.posterType?k(f,function(a){b.$wrapper.css("background-image","url("+a+")")}):"none"!==b.settings.posterType&&b.$wrapper.css("background-image","url("+f+"."+b.settings.posterType+")"),"static"===b.$element.css("position")&&b.$element.css("position","relative"),b.$element.prepend(b.$wrapper),g||h||(d="","object"==typeof b.path?(b.path.mp4&&(d+="<source src='"+b.path.mp4+".mp4' type='video/mp4'>"),b.path.webm&&(d+="<source src='"+b.path.webm+".webm' type='video/webm'>"),b.path.ogv&&(d+="<source src='"+b.path.ogv+".ogv' type='video/ogv'>"),b.$video=a("<video>"+d+"</video>")):b.$video=a("<video><source src='"+b.path+".mp4' type='video/mp4'>"+"<source src='"+b.path+".webm' type='video/webm'>"+"<source src='"+b.path+".ogv' type='video/ogg'>"+"</video>"),b.$video.css("visibility","hidden"),b.$video.prop({autoplay:b.settings.autoplay,loop:b.settings.loop,volume:b.settings.volume,muted:b.settings.muted,playbackRate:b.settings.playbackRate}),b.$wrapper.append(b.$video),b.$video.css({margin:"auto",position:"absolute","z-index":-1,top:c.y,left:c.x,"-webkit-transform":"translate(-"+c.x+", -"+c.y+")","-ms-transform":"translate(-"+c.x+", -"+c.y+")",transform:"translate(-"+c.x+", -"+c.y+")"}),b.$video.bind("loadedmetadata."+e,function(){b.$video.css("visibility","visible"),b.resize(),b.$wrapper.css("background-image","none")}),b.$element.bind("resize."+e,function(){b.settings.resizing&&b.resize()}))},l.prototype.getVideoObject=function(){return this.$video?this.$video[0]:null},l.prototype.resize=function(){if(this.$video){var a=this.$video[0].videoHeight,b=this.$video[0].videoWidth,c=this.$wrapper.height(),d=this.$wrapper.width();d/b>c/a?this.$video.css({width:d+2,height:"auto"}):this.$video.css({width:"auto",height:c+2})}},l.prototype.destroy=function(){this.$element.unbind(e),this.$video&&this.$video.unbind(e),delete a[e].lookup[this.index],this.$element.removeData(e),this.$wrapper.remove()},a[e]={lookup:[]},a.fn[e]=function(b,c){var d;return this.each(function(){d=a.data(this,e),d&&d.destroy(),d=new l(this,b,c),d.index=a[e].lookup.push(d)-1,a.data(this,e,d)}),this},a(c).ready(function(){a(b).bind("resize."+e,function(){for(var d,b=a[e].lookup.length,c=0;b>c;c++)d=a[e].lookup[c],d&&d.settings.resizing&&d.resize()}),a(c).find("[data-"+e+"-bg]").each(function(b,c){var d=a(c),f=d.data(e+"-options"),g=d.data(e+"-bg");d[e](g,f)})})}(window.jQuery,window,document,navigator);